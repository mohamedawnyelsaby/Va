// This is your Prisma schema file

generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

model User {
  id        String   @id @default(cuid())
  email     String   @unique
  name      String?
  password  String?
  image     String?
  createdAt DateTime @default(now())
  updatedAt DateTime @updatedAt
}

model City {
  id          String   @id @default(cuid())
  name        String
  slug        String   @unique
  country     String
  countryCode String
  description String?
  latitude    Float
  longitude   Float
  timezone    String
  currency    String
  language    String
  isPopular   Boolean  @default(false)
  images      String[]
  thumbnail   String?
  createdAt   DateTime @default(now())
  updatedAt   DateTime @updatedAt
  
  hotels      Hotel[]
  attractions Attraction[]
  restaurants Restaurant[]
}

model Hotel {
  id               String   @id @default(cuid())
  name             String
  description      String
  shortDescription String?
  address          String
  city             String
  cityId           String
  country          String
  postalCode       String?
  latitude         Float
  longitude        Float
  starRating       Int
  amenities        String[]
  roomTypes        Json[]
  pricePerNight    Float
  currency         String
  images           String[]
  thumbnail        String?
  isFeatured       Boolean  @default(false)
  rating           Float    @default(0)
  reviewCount      Int      @default(0)
  discountRate     Int      @default(0)
  createdAt        DateTime @default(now())
  updatedAt        DateTime @updatedAt
  
  cityRelation     City     @relation(fields: [cityId], references: [id])
}

model Attraction {
  id               String   @id @default(cuid())
  name             String
  description      String
  shortDescription String?
  category         String
  subcategory      String?
  address          String
  city             String
  cityId           String
  country          String
  latitude         Float
  longitude        Float
  ticketPrice      Float
  currency         String
  openingHours     Json?
  duration         String?
  bestTimeToVisit  String?
  accessibility    String[]
  images           String[]
  thumbnail        String?
  isPopular        Boolean  @default(false)
  rating           Float    @default(0)
  reviewCount      Int      @default(0)
  createdAt        DateTime @default(now())
  updatedAt        DateTime @updatedAt
  
  cityRelation     City     @relation(fields: [cityId], references: [id])
}

model Restaurant {
  id                  String   @id @default(cuid())
  name                String
  description         String
  cuisine             String[]
  priceRange          String
  address             String
  city                String
  cityId              String
  country             String
  latitude            Float
  longitude           Float
  openingHours        Json?
  reservationRequired Boolean  @default(false)
  dressCode           String?
  features            String[]
  images              String[]
  thumbnail           String?
  isFeatured          Boolean  @default(false)
  rating              Float    @default(0)
  reviewCount         Int      @default(0)
  createdAt           DateTime @default(now())
  updatedAt           DateTime @updatedAt
  
  cityRelation        City     @relation(fields: [cityId], references: [id])
}
