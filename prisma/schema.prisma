// prisma/seed.ts
// ðŸŒŸ PROFESSIONAL DATABASE SEEDING - PRODUCTION READY
// This seed file populates the database with initial data for cities, hotels, attractions, and restaurants

import { PrismaClient } from '@prisma/client';

const prisma = new PrismaClient();

/**
 * Utility function to generate URL-friendly slugs from city names
 * @param name - City name
 * @returns URL-friendly slug
 */
function generateSlug(name: string): string {
  return name
    .toLowerCase()
    .replace(/\s+/g, '-')
    .replace(/[^\w-]+/g, '');
}

async function main() {
  console.log('ðŸš€ Starting database seed...');

  // ========================================
  // SEED CITIES
  // ========================================
  console.log('ðŸ“ Seeding cities...');

  const cities = await Promise.all([
    prisma.city.create({
      data: {
        name: 'Paris',
        slug: 'paris',
        country: 'France',
        countryCode: 'FR',
        description: 'The City of Light, famous for its art, culture, and iconic Eiffel Tower.',
        latitude: 48.8566,
        longitude: 2.3522,
        timezone: 'Europe/Paris',
        currency: 'EUR',
        language: 'fr',
        isPopular: true,
        images: [
          'https://images.unsplash.com/photo-1502602898657-3e91760cbb34',
          'https://images.unsplash.com/photo-1511739001486-6bfe10ce785f',
        ],
        thumbnail: 'https://images.unsplash.com/photo-1502602898657-3e91760cbb34',
      },
    }),
    prisma.city.create({
      data: {
        name: 'London',
        slug: 'london',
        country: 'United Kingdom',
        countryCode: 'GB',
        description: 'A vibrant metropolis blending history with modern culture.',
        latitude: 51.5074,
        longitude: -0.1278,
        timezone: 'Europe/London',
        currency: 'GBP',
        language: 'en',
        isPopular: true,
        images: [
          'https://images.unsplash.com/photo-1513635269975-59663e0ac1ad',
          'https://images.unsplash.com/photo-1486299267070-83823f5448dd',
        ],
        thumbnail: 'https://images.unsplash.com/photo-1513635269975-59663e0ac1ad',
      },
    }),
    prisma.city.create({
      data: {
        name: 'Dubai',
        slug: 'dubai',
        country: 'United Arab Emirates',
        countryCode: 'AE',
        description: 'A futuristic city known for luxury shopping, ultramodern architecture, and vibrant nightlife.',
        latitude: 25.2048,
        longitude: 55.2708,
        timezone: 'Asia/Dubai',
        currency: 'AED',
        language: 'ar',
        isPopular: true,
        images: [
          'https://images.unsplash.com/photo-1512453979798-5ea266f8880c',
          'https://images.unsplash.com/photo-1518684079-3c830dcef090',
        ],
        thumbnail: 'https://images.unsplash.com/photo-1512453979798-5ea266f8880c',
      },
    }),
    prisma.city.create({
      data: {
        name: 'Tokyo',
        slug: 'tokyo',
        country: 'Japan',
        countryCode: 'JP',
        description: 'A mesmerizing blend of traditional culture and cutting-edge technology.',
        latitude: 35.6762,
        longitude: 139.6503,
        timezone: 'Asia/Tokyo',
        currency: 'JPY',
        language: 'ja',
        isPopular: true,
        images: [
          'https://images.unsplash.com/photo-1540959733332-eab4deabeeaf',
          'https://images.unsplash.com/photo-1513407030348-c983a97b98d8',
        ],
        thumbnail: 'https://images.unsplash.com/photo-1540959733332-eab4deabeeaf',
      },
    }),
    prisma.city.create({
      data: {
        name: 'New York',
        slug: 'new-york',
        country: 'United States',
        countryCode: 'US',
        description: 'The Big Apple - a global hub for art, culture, fashion, and finance.',
        latitude: 40.7128,
        longitude: -74.006,
        timezone: 'America/New_York',
        currency: 'USD',
        language: 'en',
        isPopular: true,
        images: [
          'https://images.unsplash.com/photo-1496442226666-8d4d0e62e6e9',
          'https://images.unsplash.com/photo-1490644658840-3f2e3f8c5625',
        ],
        thumbnail: 'https://images.unsplash.com/photo-1496442226666-8d4d0e62e6e9',
      },
    }),
    prisma.city.create({
      data: {
        name: 'Barcelona',
        slug: 'barcelona',
        country: 'Spain',
        countryCode: 'ES',
        description: 'A Mediterranean gem famous for GaudÃ­ architecture and vibrant street life.',
        latitude: 41.3851,
        longitude: 2.1734,
        timezone: 'Europe/Madrid',
        currency: 'EUR',
        language: 'es',
        isPopular: true,
        images: [
          'https://images.unsplash.com/photo-1583422409516-2895a77efded',
          'https://images.unsplash.com/photo-1562883676-8c7feb83f09b',
        ],
        thumbnail: 'https://images.unsplash.com/photo-1583422409516-2895a77efded',
      },
    }),
    prisma.city.create({
      data: {
        name: 'Rome',
        slug: 'rome',
        country: 'Italy',
        countryCode: 'IT',
        description: 'The Eternal City, where ancient history meets modern Italian culture.',
        latitude: 41.9028,
        longitude: 12.4964,
        timezone: 'Europe/Rome',
        currency: 'EUR',
        language: 'it',
        isPopular: true,
        images: [
          'https://images.unsplash.com/photo-1552832230-c0197dd311b5',
          'https://images.unsplash.com/photo-1525874684015-58379d421a52',
        ],
        thumbnail: 'https://images.unsplash.com/photo-1552832230-c0197dd311b5',
      },
    }),
    prisma.city.create({
      data: {
        name: 'Istanbul',
        slug: 'istanbul',
        country: 'Turkey',
        countryCode: 'TR',
        description: 'A transcontinental city bridging Europe and Asia with rich Ottoman heritage.',
        latitude: 41.0082,
        longitude: 28.9784,
        timezone: 'Europe/Istanbul',
        currency: 'TRY',
        language: 'tr',
        isPopular: true,
        images: [
          'https://images.unsplash.com/photo-1524231757912-21f4fe3a7200',
          'https://images.unsplash.com/photo-1541432901042-2d8bd64b4a9b',
        ],
        thumbnail: 'https://images.unsplash.com/photo-1524231757912-21f4fe3a7200',
      },
    }),
    prisma.city.create({
      data: {
        name: 'Singapore',
        slug: 'singapore',
        country: 'Singapore',
        countryCode: 'SG',
        description: 'A modern city-state known for its cleanliness, efficiency, and cultural diversity.',
        latitude: 1.3521,
        longitude: 103.8198,
        timezone: 'Asia/Singapore',
        currency: 'SGD',
        language: 'en',
        isPopular: true,
        images: [
          'https://images.unsplash.com/photo-1525625293386-3f8f99389edd',
          'https://images.unsplash.com/photo-1496939376851-89342e90adcd',
        ],
        thumbnail: 'https://images.unsplash.com/photo-1525625293386-3f8f99389edd',
      },
    }),
    prisma.city.create({
      data: {
        name: 'Sydney',
        slug: 'sydney',
        country: 'Australia',
        countryCode: 'AU',
        description: 'A harbour city famous for its Opera House, beaches, and outdoor lifestyle.',
        latitude: -33.8688,
        longitude: 151.2093,
        timezone: 'Australia/Sydney',
        currency: 'AUD',
        language: 'en',
        isPopular: true,
        images: [
          'https://images.unsplash.com/photo-1506973035872-a4ec16b8e8d9',
          'https://images.unsplash.com/photo-1523059623039-a9ed027e7fad',
        ],
        thumbnail: 'https://images.unsplash.com/photo-1506973035872-a4ec16b8e8d9',
      },
    }),
    prisma.city.create({
      data: {
        name: 'Cairo',
        slug: 'cairo',
        country: 'Egypt',
        countryCode: 'EG',
        description: 'Home to the ancient Pyramids of Giza and the treasure-filled Egyptian Museum.',
        latitude: 30.0444,
        longitude: 31.2357,
        timezone: 'Africa/Cairo',
        currency: 'EGP',
        language: 'ar',
        isPopular: true,
        images: [
          'https://images.unsplash.com/photo-1572252009286-268acec5ca0a',
          'https://images.unsplash.com/photo-1539768942893-daf53e448371',
        ],
        thumbnail: 'https://images.unsplash.com/photo-1572252009286-268acec5ca0a',
      },
    }),
    prisma.city.create({
      data: {
        name: 'Bangkok',
        slug: 'bangkok',
        country: 'Thailand',
        countryCode: 'TH',
        description: 'A vibrant capital known for ornate shrines, bustling markets, and street food.',
        latitude: 13.7563,
        longitude: 100.5018,
        timezone: 'Asia/Bangkok',
        currency: 'THB',
        language: 'th',
        isPopular: true,
        images: [
          'https://images.unsplash.com/photo-1508009603885-50cf7c579365',
          'https://images.unsplash.com/photo-1519451241324-20b4ea2c4220',
        ],
        thumbnail: 'https://images.unsplash.com/photo-1508009603885-50cf7c579365',
      },
    }),
  ]);

  console.log(`âœ… Created ${cities.length} cities`);

  // ========================================
  // SEED HOTELS
  // ========================================
  console.log('ðŸ¨ Seeding hotels...');

  const hotels = await Promise.all([
    prisma.hotel.create({
      data: {
        name: 'Grand Hotel Paris',
        description: 'Luxury 5-star hotel in the heart of Paris with stunning Eiffel Tower views.',
        shortDescription: 'Elegant Parisian luxury with iconic views',
        address: '15 Avenue des Champs-Ã‰lysÃ©es',
        city: 'Paris',
        cityId: cities[0].id,
        country: 'France',
        postalCode: '75008',
        latitude: 48.8698,
        longitude: 2.3078,
        starRating: 5,
        amenities: ['Free WiFi', 'Pool', 'Spa', 'Gym', 'Restaurant', 'Bar', 'Concierge', 'Room Service'],
        roomTypes: [
          { type: 'Deluxe Room', price: 350, capacity: 2 },
          { type: 'Executive Suite', price: 650, capacity: 4 },
          { type: 'Presidential Suite', price: 1200, capacity: 6 },
        ],
        pricePerNight: 350,
        currency: 'EUR',
        images: [
          'https://images.unsplash.com/photo-1566073771259-6a8506099945',
          'https://images.unsplash.com/photo-1582719478250-c89cae4dc85b',
        ],
        thumbnail: 'https://images.unsplash.com/photo-1566073771259-6a8506099945',
        isFeatured: true,
        rating: 4.8,
        reviewCount: 1250,
        discountRate: 10,
      },
    }),
    prisma.hotel.create({
      data: {
        name: 'The Ritz London',
        description: 'Iconic luxury hotel offering opulent accommodations in the heart of London.',
        shortDescription: 'Timeless British elegance and sophistication',
        address: '150 Piccadilly',
        city: 'London',
        cityId: cities[1].id,
        country: 'United Kingdom',
        postalCode: 'W1J 9BR',
        latitude: 51.5074,
        longitude: -0.1419,
        starRating: 5,
        amenities: ['Free WiFi', 'Spa', 'Gym', 'Fine Dining', 'Butler Service', 'Casino'],
        roomTypes: [
          { type: 'Classic Room', price: 450, capacity: 2 },
          { type: 'Deluxe Suite', price: 850, capacity: 3 },
          { type: 'Royal Suite', price: 2000, capacity: 4 },
        ],
        pricePerNight: 450,
        currency: 'GBP',
        images: [
          'https://images.unsplash.com/photo-1542314831-068cd1dbfeeb',
          'https://images.unsplash.com/photo-1590490360182-c33d57733427',
        ],
        thumbnail: 'https://images.unsplash.com/photo-1542314831-068cd1dbfeeb',
        isFeatured: true,
        rating: 4.9,
        reviewCount: 2100,
        discountRate: 15,
      },
    }),
    prisma.hotel.create({
      data: {
        name: 'Burj Al Arab',
        description: 'The worlds most luxurious hotel, standing on its own artificial island.',
        shortDescription: '7-star luxury on a private island',
        address: 'Jumeirah Beach Road',
        city: 'Dubai',
        cityId: cities[2].id,
        country: 'United Arab Emirates',
        postalCode: '00000',
        latitude: 25.1413,
        longitude: 55.1853,
        starRating: 5,
        amenities: ['Private Beach', 'Helipad', 'Chauffeur Service', 'Spa', 'Multiple Restaurants', 'Gold iPads'],
        roomTypes: [
          { type: 'Deluxe Suite', price: 1500, capacity: 2 },
          { type: 'Panoramic Suite', price: 3000, capacity: 4 },
          { type: 'Royal Suite', price: 24000, capacity: 6 },
        ],
        pricePerNight: 1500,
        currency: 'AED',
        images: [
          'https://images.unsplash.com/photo-1582719508461-905c673771fd',
          'https://images.unsplash.com/photo-1571896349842-33c89424de2d',
        ],
        thumbnail: 'https://images.unsplash.com/photo-1582719508461-905c673771fd',
        isFeatured: true,
        rating: 5.0,
        reviewCount: 3500,
        discountRate: 0,
      },
    }),
  ]);

  console.log(`âœ… Created ${hotels.length} hotels`);

  // ========================================
  // SEED ATTRACTIONS
  // ========================================
  console.log('ðŸŽ­ Seeding attractions...');

  const attractions = await Promise.all([
    prisma.attraction.create({
      data: {
        name: 'Eiffel Tower',
        description: 'Iconic iron lattice tower and symbol of Paris, offering breathtaking city views.',
        shortDescription: 'Paris iconic landmark',
        category: 'Landmark',
        subcategory: 'Monument',
        address: 'Champ de Mars, 5 Avenue Anatole',
        city: 'Paris',
        cityId: cities[0].id,
        country: 'France',
        latitude: 48.8584,
        longitude: 2.2945,
        ticketPrice: 26.1,
        currency: 'EUR',
        openingHours: {
          monday: '09:30-23:45',
          tuesday: '09:30-23:45',
          wednesday: '09:30-23:45',
          thursday: '09:30-23:45',
          friday: '09:30-23:45',
          saturday: '09:30-23:45',
          sunday: '09:30-23:45',
        },
        duration: '2-3 hours',
        bestTimeToVisit: 'Sunset for magical views',
        accessibility: ['Elevator Access', 'Wheelchair Accessible'],
        images: [
          'https://images.unsplash.com/photo-1511739001486-6bfe10ce785f',
          'https://images.unsplash.com/photo-1502602898657-3e91760cbb34',
        ],
        thumbnail: 'https://images.unsplash.com/photo-1511739001486-6bfe10ce785f',
        isPopular: true,
        rating: 4.7,
        reviewCount: 45000,
      },
    }),
    prisma.attraction.create({
      data: {
        name: 'British Museum',
        description: 'World-famous museum showcasing human history, art and culture from around the globe.',
        shortDescription: 'Treasures of world civilization',
        category: 'Museum',
        subcategory: 'History',
        address: 'Great Russell Street',
        city: 'London',
        cityId: cities[1].id,
        country: 'United Kingdom',
        latitude: 51.5194,
        longitude: -0.127,
        ticketPrice: 0,
        currency: 'GBP',
        openingHours: {
          monday: '10:00-17:00',
          tuesday: '10:00-17:00',
          wednesday: '10:00-17:00',
          thursday: '10:00-17:00',
          friday: '10:00-20:30',
          saturday: '10:00-17:00',
          sunday: '10:00-17:00',
        },
        duration: '3-4 hours',
        bestTimeToVisit: 'Weekday mornings',
        accessibility: ['Wheelchair Accessible', 'Audio Guides'],
        images: [
          'https://images.unsplash.com/photo-1529260830199-42c24126f198',
          'https://images.unsplash.com/photo-1580674285054-bed31e145f59',
        ],
        thumbnail: 'https://images.unsplash.com/photo-1529260830199-42c24126f198',
        isPopular: true,
        rating: 4.6,
        reviewCount: 32000,
      },
    }),
    prisma.attraction.create({
      data: {
        name: 'Burj Khalifa',
        description: 'The tallest building in the world with observation decks on the 124th and 148th floors.',
        shortDescription: 'Touch the sky at 828 meters',
        category: 'Landmark',
        subcategory: 'Skyscraper',
        address: '1 Sheikh Mohammed bin Rashid Boulevard',
        city: 'Dubai',
        cityId: cities[2].id,
        country: 'United Arab Emirates',
        latitude: 25.1972,
        longitude: 55.2744,
        ticketPrice: 149,
        currency: 'AED',
        openingHours: {
          monday: '08:30-23:00',
          tuesday: '08:30-23:00',
          wednesday: '08:30-23:00',
          thursday: '08:30-23:00',
          friday: '08:30-23:00',
          saturday: '08:30-23:00',
          sunday: '08:30-23:00',
        },
        duration: '1-2 hours',
        bestTimeToVisit: 'Sunset or night',
        accessibility: ['Elevator Access', 'Wheelchair Accessible'],
        images: [
          'https://images.unsplash.com/photo-1512632578888-169bbbc64f33',
          'https://images.unsplash.com/photo-1580837119756-563d608dd119',
        ],
        thumbnail: 'https://images.unsplash.com/photo-1512632578888-169bbbc64f33',
        isPopular: true,
        rating: 4.8,
        reviewCount: 52000,
      },
    }),
  ]);

  console.log(`âœ… Created ${attractions.length} attractions`);

  // ========================================
  // SEED RESTAURANTS
  // ========================================
  console.log('ðŸ½ï¸  Seeding restaurants...');

  const restaurants = await Promise.all([
    prisma.restaurant.create({
      data: {
        name: 'Le Jules Verne',
        description: 'Michelin-starred restaurant located on the second floor of the Eiffel Tower.',
        cuisine: ['French', 'Fine Dining', 'Contemporary'],
        priceRange: '$$$$',
        address: 'Avenue Gustave Eiffel',
        city: 'Paris',
        cityId: cities[0].id,
        country: 'France',
        latitude: 48.8583,
        longitude: 2.2945,
        openingHours: {
          monday: 'Closed',
          tuesday: '12:00-13:30, 19:00-21:00',
          wednesday: '12:00-13:30, 19:00-21:00',
          thursday: '12:00-13:30, 19:00-21:00',
          friday: '12:00-13:30, 19:00-21:00',
          saturday: '12:00-13:30, 19:00-21:00',
          sunday: '12:00-13:30, 19:00-21:00',
        },
        reservationRequired: true,
        dressCode: 'Smart Casual / Formal',
        features: ['Michelin Star', 'Romantic', 'Panoramic Views', 'Wine Cellar'],
        images: [
          'https://images.unsplash.com/photo-1414235077428-338989a2e8c0',
          'https://images.unsplash.com/photo-1550966871-3ed3cdb5ed0c',
        ],
        thumbnail: 'https://images.unsplash.com/photo-1414235077428-338989a2e8c0',
        isFeatured: true,
        rating: 4.7,
        reviewCount: 3200,
      },
    }),
    prisma.restaurant.create({
      data: {
        name: 'Dishoom',
        description: 'Popular Bombay-style cafÃ© serving delicious Indian cuisine in a vintage setting.',
        cuisine: ['Indian', 'Asian', 'Breakfast'],
        priceRange: '$$',
        address: '12 Upper St Martins Lane',
        city: 'London',
        cityId: cities[1].id,
        country: 'United Kingdom',
        latitude: 51.5117,
        longitude: -0.1269,
        openingHours: {
          monday: '08:00-23:00',
          tuesday: '08:00-23:00',
          wednesday: '08:00-23:00',
          thursday: '08:00-23:00',
          friday: '08:00-00:00',
          saturday: '09:00-00:00',
          sunday: '09:00-22:00',
        },
        reservationRequired: false,
        dressCode: 'Casual',
        features: ['Vegetarian Options', 'Vegan Options', 'Outdoor Seating', 'Cocktails'],
        images: [
          'https://images.unsplash.com/photo-1517248135467-4c7edcad34c4',
          'https://images.unsplash.com/photo-1552566626-52f8b828add9',
        ],
        thumbnail: 'https://images.unsplash.com/photo-1517248135467-4c7edcad34c4',
        isFeatured: true,
        rating: 4.5,
        reviewCount: 8500,
      },
    }),
    prisma.restaurant.create({
      data: {
        name: 'Pierchic',
        description: 'Romantic overwater seafood restaurant with stunning views of the Arabian Gulf.',
        cuisine: ['Seafood', 'Mediterranean', 'Fine Dining'],
        priceRange: '$$$$',
        address: 'Al Qasr, Madinat Jumeirah',
        city: 'Dubai',
        cityId: cities[2].id,
        country: 'United Arab Emirates',
        latitude: 25.1324,
        longitude: 55.1863,
        openingHours: {
          monday: '12:30-15:00, 18:30-23:30',
          tuesday: '12:30-15:00, 18:30-23:30',
          wednesday: '12:30-15:00, 18:30-23:30',
          thursday: '12:30-15:00, 18:30-23:30',
          friday: '12:30-15:00, 18:30-23:30',
          saturday: '12:30-15:00, 18:30-23:30',
          sunday: '12:30-15:00, 18:30-23:30',
        },
        reservationRequired: true,
        dressCode: 'Smart Casual',
        features: ['Ocean Views', 'Romantic', 'Fresh Seafood', 'Wine Pairing'],
        images: [
          'https://images.unsplash.com/photo-1559339352-11d035aa65de',
          'https://images.unsplash.com/photo-1544025162-d76694265947',
        ],
        thumbnail: 'https://images.unsplash.com/photo-1559339352-11d035aa65de',
        isFeatured: true,
        rating: 4.8,
        reviewCount: 4200,
      },
    }),
  ]);

  console.log(`âœ… Created ${restaurants.length} restaurants`);

  console.log('');
  console.log('ðŸŽ‰ Database seeding completed successfully!');
  console.log('');
  console.log('ðŸ“Š Summary:');
  console.log(`   â”œâ”€ Cities: ${cities.length}`);
  console.log(`   â”œâ”€ Hotels: ${hotels.length}`);
  console.log(`   â”œâ”€ Attractions: ${attractions.length}`);
  console.log(`   â””â”€ Restaurants: ${restaurants.length}`);
  console.log('');
}

main()
  .catch((e) => {
    console.error('âŒ Error seeding database:', e);
    process.exit(1);
  })
  .finally(async () => {
    await prisma.$disconnect();
  });
